# è‚¡ç¥¨æŠ•èµ„åˆ†æç®¡ç†ç³»ç»Ÿ

## ğŸ“Š ç³»ç»Ÿæ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºAIçš„æ™ºèƒ½è‚¡ç¥¨æŠ•èµ„åˆ†æç®¡ç†ç³»ç»Ÿï¼Œæä¾›å®æ—¶è‚¡ä»·ç›‘æ§ã€æŠ•èµ„ç»„åˆåˆ†æã€æ™ºèƒ½é¢„è­¦å’Œè‡ªåŠ¨åŒ–æŠ¥å‘ŠåŠŸèƒ½ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- **å®æ—¶è‚¡ä»·ç›‘æ§**: æ”¯æŒAè‚¡ã€ç¾è‚¡ã€æ¸¯è‚¡ã€åŸºé‡‘å®æ—¶ä»·æ ¼æ›´æ–°
- **æŠ•èµ„ç»„åˆåˆ†æ**: è‡ªåŠ¨è®¡ç®—ç›ˆäºã€é£é™©è¯„ä¼°ã€èµ„äº§é…ç½®åˆ†æ
- **AIæ™ºèƒ½åˆ†æ**: åŸºæœ¬é¢åˆ†æã€æŠ€æœ¯åˆ†æã€æ–°é—»æƒ…æ„Ÿåˆ†æ
- **è‡ªåŠ¨åŒ–æŠ¥å‘Š**: æ¯æ—¥/æ¯å‘¨æŠ•èµ„æŠ¥å‘Šè‡ªåŠ¨ç”Ÿæˆ
- **æ™ºèƒ½é¢„è­¦**: ä»·æ ¼å¼‚å¸¸å˜åŠ¨ã€é£é™©æé†’ã€æŠ•èµ„å»ºè®®
- **é£ä¹¦é›†æˆ**: è‡ªåŠ¨åŒæ­¥åˆ°é£ä¹¦å¤šç»´è¡¨æ ¼
- **é‚®ä»¶é€šçŸ¥**: é‡è¦äº‹ä»¶é‚®ä»¶æé†’

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd 10_stock_investment_agent

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. é…ç½®è®¾ç½®

ç¡®ä¿ä»¥ä¸‹é…ç½®æ–‡ä»¶å·²æ­£ç¡®è®¾ç½®ï¼š

- `config/api_keys.json` - APIå¯†é’¥é…ç½®
- `config/settings.json` - ç³»ç»Ÿè®¾ç½®
- `config/stock_symbols.json` - è‚¡ç¥¨ä»£ç æ˜ å°„

### 3. å¯åŠ¨ç³»ç»Ÿ

```bash
# äº¤äº’å¼å¯åŠ¨ï¼ˆæ¨èï¼‰
python scripts/run_agent.py --interactive

# ç›´æ¥å¯åŠ¨
python scripts/run_agent.py --start

# æŸ¥çœ‹çŠ¶æ€
python scripts/run_agent.py --status

# å‘é€æµ‹è¯•é€šçŸ¥
python scripts/run_agent.py --test
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
10_stock_investment_agent/
â”œâ”€â”€ main_agent.py              # ä¸»æ§åˆ¶å™¨
â”œâ”€â”€ config/                    # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ api_keys.json         # APIå¯†é’¥
â”‚   â”œâ”€â”€ settings.json         # ç³»ç»Ÿè®¾ç½®
â”‚   â””â”€â”€ stock_symbols.json    # è‚¡ç¥¨ä»£ç 
â”œâ”€â”€ agents/                   # Agentæ¨¡å—
â”‚   â”œâ”€â”€ data_fetching_agent.py    # æ•°æ®æŠ“å–
â”‚   â”œâ”€â”€ portfolio_analyzer.py     # æŠ•èµ„ç»„åˆåˆ†æ
â”‚   â”œâ”€â”€ feishu_integration.py    # é£ä¹¦é›†æˆ
â”‚   â”œâ”€â”€ notification_agent.py     # é€šçŸ¥ç³»ç»Ÿ
â”‚   â””â”€â”€ ai_analysis_agent.py      # AIåˆ†æ
â”œâ”€â”€ utils/                    # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ calculation_utils.py  # è®¡ç®—å·¥å…·
â”‚   â”œâ”€â”€ date_utils.py         # æ—¥æœŸå·¥å…·
â”‚   â”œâ”€â”€ logger.py             # æ—¥å¿—ç³»ç»Ÿ
â”‚   â””â”€â”€ auto_scheduler.py     # è‡ªåŠ¨åŒ–è°ƒåº¦
â”œâ”€â”€ scripts/                  # å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ run_agent.py         # ä¸»å¯åŠ¨è„šæœ¬
â””â”€â”€ data/                    # æ•°æ®å­˜å‚¨
    â”œâ”€â”€ portfolio_data.json   # æŠ•èµ„ç»„åˆæ•°æ®
    â””â”€â”€ logs/               # æ—¥å¿—æ–‡ä»¶
```

## ğŸ”§ é…ç½®è¯´æ˜

### APIå¯†é’¥é…ç½® (config/api_keys.json)

```json
{
  "alpha_vantage": {
    "api_key": "YOUR_ALPHA_VANTAGE_API_KEY"
  },
  "tushare": {
    "api_key": "YOUR_TUSHARE_API_KEY"
  },
  "feishu": {
    "app_id": "YOUR_FEISHU_APP_ID",
    "app_secret": "YOUR_FEISHU_APP_SECRET"
  },
  "gmail": {
    "recipient_email": "your.email@example.com"
  }
}
```

### ç³»ç»Ÿè®¾ç½® (config/settings.json)

ä¸»è¦é…ç½®é¡¹ï¼š
- `update_frequency`: æ›´æ–°é¢‘ç‡è®¾ç½®
- `notification_settings`: é€šçŸ¥è®¾ç½®
- `risk_management`: é£é™©ç®¡ç†å‚æ•°
- `logging`: æ—¥å¿—é…ç½®

## ğŸ“ˆ ä½¿ç”¨æ–¹æ³•

### æ·»åŠ ä¹°å…¥è®°å½•

```python
from main_agent import MainAgent

agent = MainAgent()

buy_data = {
    'symbol': 'AAPL',
    'name': 'è‹¹æœå…¬å¸',
    'market_type': 'us_stocks',
    'buy_price': 150.00,
    'quantity': 100,
    'fees': 10.00,
    'notes': 'é•¿æœŸæŠ•èµ„çœ‹å¥½'
}

result = agent.add_buy_record(buy_data)
```

### æ·»åŠ å–å‡ºè®°å½•

```python
sell_data = {
    'symbol': 'AAPL',
    'sell_price': 160.00,
    'quantity': 50,
    'fees': 10.00,
    'notes': 'éƒ¨åˆ†è·åˆ©äº†ç»“'
}

result = agent.add_sell_record(sell_data)
```

### è·å–æŠ•èµ„ç»„åˆæ‘˜è¦

```python
summary = agent.get_portfolio_summary()
print(f"æ€»å¸‚å€¼: {summary['total_value']}")
print(f"æ€»ç›ˆäº: {summary['total_profit_loss']}")
```

### æ‰‹åŠ¨è¿è¡Œåˆ†æ

```python
result = agent.run_manual_analysis()
```

## â° è‡ªåŠ¨åŒ–ä»»åŠ¡

ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼š

- **ä»·æ ¼æ›´æ–°**: æ¯5åˆ†é’Ÿæ›´æ–°æ‰€æœ‰æŒä»“è‚¡ç¥¨ä»·æ ¼
- **æŠ•èµ„ç»„åˆåˆ†æ**: æ¯å°æ—¶åˆ†ææŠ•èµ„ç»„åˆçŠ¶å†µ
- **AIåˆ†æ**: æ¯2å°æ—¶è¿è¡Œæ™ºèƒ½åˆ†æ
- **æ•°æ®åŒæ­¥**: æ¯30åˆ†é’ŸåŒæ­¥åˆ°é£ä¹¦è¡¨æ ¼
- **æ¯æ—¥æŠ¥å‘Š**: æ¯å¤©18:00å‘é€æŠ•èµ„æŠ¥å‘Š
- **æ¯å‘¨æŠ¥å‘Š**: æ¯å‘¨æ—¥18:00å‘é€å‘¨æŠ¥

## ğŸ“§ é€šçŸ¥åŠŸèƒ½

### æ¯æ—¥æŠ¥å‘Š
åŒ…å«å†…å®¹ï¼š
- æŠ•èµ„ç»„åˆæ‘˜è¦
- ç›ˆäºæƒ…å†µ
- å¸‚åœºæ¦‚å†µ
- ä¸ªè‚¡è¡¨ç°

### é¢„è­¦é€šçŸ¥
è§¦å‘æ¡ä»¶ï¼š
- ä»·æ ¼å˜åŠ¨è¶…è¿‡5%
- AIåˆ†æå»ºè®®å–å‡º
- é£é™©è¯„åˆ†è¿‡ä½

### äº¤æ˜“é€šçŸ¥
æ¯æ¬¡ä¹°å–æ“ä½œåè‡ªåŠ¨å‘é€é€šçŸ¥ã€‚

## ğŸ“— é£ä¹¦é›†æˆ

ç³»ç»Ÿä¼šè‡ªåŠ¨åŒæ­¥ä»¥ä¸‹æ•°æ®åˆ°é£ä¹¦å¤šç»´è¡¨æ ¼ï¼š

- ä¹°å…¥è®°å½•è¡¨
- å–å‡ºè®°å½•è¡¨
- æŒä»“ç»Ÿè®¡è¡¨
- åˆ†ææŠ¥å‘Šè¡¨

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **APIå¯†é’¥é”™è¯¯**
   - æ£€æŸ¥ `config/api_keys.json` æ–‡ä»¶
   - ç¡®è®¤APIå¯†é’¥æœ‰æ•ˆä¸”æœªè¿‡æœŸ

2. **ç½‘ç»œè¿æ¥é—®é¢˜**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - ç¡®è®¤APIæœåŠ¡å¯ç”¨

3. **ä¾èµ–åŒ…ç¼ºå¤±**
   - è¿è¡Œ `pip install -r requirements.txt`
   - æ£€æŸ¥Pythonç‰ˆæœ¬å…¼å®¹æ€§

4. **æƒé™é—®é¢˜**
   - ç¡®è®¤é£ä¹¦åº”ç”¨æƒé™è®¾ç½®æ­£ç¡®
   - æ£€æŸ¥Gmailè®¿é—®æƒé™

### æ—¥å¿—æŸ¥çœ‹

æ—¥å¿—æ–‡ä»¶ä½ç½®ï¼š`data/logs/`

```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f data/logs/stock_agent_$(date +%Y%m%d).log
```

## ğŸ“Š APIå‚è€ƒ

### ä¸»è¦æ¥å£

- `MainAgent.add_buy_record()` - æ·»åŠ ä¹°å…¥è®°å½•
- `MainAgent.add_sell_record()` - æ·»åŠ å–å‡ºè®°å½•
- `MainAgent.get_portfolio_summary()` - è·å–æŠ•èµ„ç»„åˆæ‘˜è¦
- `MainAgent.run_manual_analysis()` - æ‰‹åŠ¨è¿è¡Œåˆ†æ
- `MainAgent.get_system_status()` - è·å–ç³»ç»ŸçŠ¶æ€

### Agentæ¥å£

æ¯ä¸ªAgentæä¾›ä»¥ä¸‹æ¥å£ï¼š
- `start()` - å¯åŠ¨Agent
- `stop()` - åœæ­¢Agent
- `get_status()` - è·å–çŠ¶æ€

## ğŸ›¡ï¸ å®‰å…¨è¯´æ˜

- APIå¯†é’¥åŠ å¯†å­˜å‚¨
- æ•æ„Ÿä¿¡æ¯ä¸è®°å½•æ—¥å¿—
- ç½‘ç»œè¿æ¥ä½¿ç”¨HTTPS
- å®šæœŸå¤‡ä»½é‡è¦æ•°æ®

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›æœ¬é¡¹ç›®ã€‚

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶æˆ–è”ç³»å¼€å‘è€…ã€‚